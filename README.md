# keeb
keyboard sharing client and server

These scripts redirect keystrokes from one computer to another. The server is the computer that has the keyboard, and the client is the computer that receives the keystrokes. 

## Potential features

- on the fly macros
- 

## Message format

|mtype|data|
|---|---|
|0|keyup
|1| keydown
|2| keyhold
|3|keepalive
|4| change target (sender only)
|5| quit


## __serve.py__

```mermaid
graph LR

gk("getkeys()")
ka("keepalive()")
qoo(qoo)
st("sendthings()")
lt("localtype()")


gk & ka --> qoo --> st
gk --> lt
st --> x & y

subgraph "main thread"
    gk
    lt
end

subgraph "keepalive"
    ka
end

subgraph "send"
    st
end

subgraph "media keys"
    gk2("getkeys()")
end
gk2 --> qoo


```


## __linuxClient.py__

```mermaid
graph LR
rcv("recvthings()")
pk("pushkeys()")

qin(qin)

rcv --> qin --> pk

subgraph "receive process"
    rcv
end


```

### evdev Event Types

0) EV_SYN: This event type is used to synchronize and separate events. It doesn't represent a specific input event but is used to separate different events and indicate the end of a sequence of events.

1) EV_KEY: This event type represents keyboard events, including key presses and releases. Each key press or release event has an associated keycode.

2) EV_REL: This event type represents relative axis events. These events are generated by devices like mice and trackpads to indicate relative movement along different axes (X, Y, etc.).

3) EV_ABS: This event type represents absolute axis events. Devices like touchscreens generate absolute position data, which is represented through this event type. It includes events for X and Y coordinates, pressure, and other absolute input values.

4) EV_MSC: Miscellaneous input events. These are used for events that don't fit into other categories. Examples include events indicating device status changes.

5) EV_SW: Switch events. These events indicate the state of switches on a device, such as the lid switch on a laptop.

6) EV_LED: LED (Light Emitting Diode) events. These events are used to control the state of LEDs on input devices like keyboards.

7) EV_SND: Sound events. These events are used for input related to sound, although they are not commonly used for standard input devices.

8) EV_REP: Repeat events. These events are used to indicate that a key is being held down and is automatically repeating.

9) EV_FF: Force Feedback events. These events are used for force feedback devices like rumble pads and force feedback joysticks.

23) __keepAlive__ These are not part of the **evdev** framework.  These are sent multiple times a second to maintain a responsive connection.  

